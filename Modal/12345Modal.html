<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<style>
    #rotate {
        height: 400px;
        width: 450px;
        position: relative;
        margin: 10px auto;
        top: 3px;
    }

    #rotate a {
        position: absolute;
        top: 0px;
        left: 0px;
        color: #04FDF5;
        font-weight: bold;
        padding: 3px 6px;
        font-size: 14px;
    }

    #rotate a:hover {
        border: 1px solid #eee;
        background: #000;
        border-radius: 5px;
    }
</style>
<link rel="stylesheet" type="text/css" href="../css/12345Modal.css"/>
<link rel="stylesheet" type="text/css" href="../css/pubilic.css"/>
<script src="https://webapi.amap.com/maps?v=1.4.15&key=cd8c9c7930a7aeefb44288f1f31e52ab"></script>
<script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
<body>
<div class="Modal-warp">
    <div id="clearid">x</div>
    <div class="Modal-left">
        <div style="  padding: 0px 20px;">
            <div class="Modal-left-header">
                12345事件
            </div>
            <div class="Modal-left-item">
                <div class="FX_header">
                    <div class="header">
                        <a class="line"></a>
                        <span>统计分析</span>
                        <a class="line1"></a>
                    </div>
                    <div id="dropdown">
                        <p style="border:1px solid #1DD6DF;color: #1DD6DF">今日</p>
                        <ul style="border:1px solid #1DD6DF;color: #1DD6DF">
                            <li><a href="#" rel="1"> 今日</a></li>
                            <li><a href="#" rel="2">本月</a></li>
                            <li><a href="#" rel="3">今年</a></li>
                        </ul>
                    </div>
                </div>

                <div class="Satisfaction-warp">
                    <div class="Satisfaction-warp-item" >
                        <div class="Satisfaction-warp-item-header">
                            <div class="Satisfaction-warp-item-header-left">
                                <div class="banner1" onclick="TabsFun(1)">基本情况</div>
<!--                                <div class="banner2" onclick="TabsFun(2)">趋势分析</div>-->
                            </div>
                            <div id="dropdown1">
                                <p>问题类型</p>
                                <ul>
                                    <li><a href="#" rel="1">问题来源</a></li>
                                    <li><a href="#" rel="2">问题类型</a></li>
                                    <li><a href="#" rel="3">诉求情况</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="Satisfaction-warp-item-echarts"  style="height:400px">
                            <div id="SmallECharts3" style="width: inherit;height: inherit"></div>
                        </div>


                    </div>
                    <div class="Satisfaction-warp-item" >
                        <div class="Satisfaction-warp-item-header">
                            <div class="Satisfaction-warp-item-header-left">
                                <div class="banner1" onclick="TabsFun(5)">热词</div>
<!--                                <div class="banner2" onclick="TabsFun(6)">趋势分析</div>-->
                            </div>
<!--                            <div id="dropdown2">-->
<!--                                <p>街镇效能</p>-->
<!--                                <ul>-->
<!--                                    <li><a href="#" rel="1">街镇效能</a></li>-->
<!--                                    <li><a href="#" rel="2">部门效能</a></li>-->
<!--&lt;!&ndash;                                    <li><a href="#" rel="3">南京</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                    <li><a href="#" rel="4">堪培拉</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                    <li><a href="#" rel="5">多伦多</a></li>&ndash;&gt;-->
<!--                                </ul>-->
<!--                            </div>-->
                        </div>
                        <div class="Satisfaction-warp-item-echarts" style="margin-top: 40px;height: 400px">
                            <div id="SmallECharts4" style="width: 575px;height:400px;margin-right: 20px;margin-top: -20px">
                                <div id="rotate">

                                    <a  target="_blank">上水井盖</a>
                                    <a  target="_blank">住房保障</a>
                                    <a  target="_blank">路灯井盖</a>
                                    <a  target="_blank">人力保障</a>
                                    <a  target="_blank">信息交接箱</a>
                                    <a  target="_blank">污水井盖</a>
                                    <a  target="_blank">农业农业</a>
                                    <a  target="_blank">燃气调压站</a>
                                    <a  target="_blank">治安亭</a>
                                    <a  target="_blank">交通立杆</a>
                                    <a  target="_blank"> 民政民政</a>
                                    <a  target="_blank">自来水管破裂</a>
                                    <a  target="_blank">发展改革</a>
                                    <a  target="_blank">新闻出版</a>
                                    <a  target="_blank">其他其他</a>
                                    <a  target="_blank">机关事务管理</a>
                                    <a  target="_blank">垃圾箱</a>
                                    <a  target="_blank">邮政通信</a>
                                    <a  target="_blank">电力电力</a>
                                    <a  target="_blank">残垣断壁</a>
                                    <a  target="_blank">乱堆放</a>

                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
            <div class="Modal-left-item">
                <div class="header">
                    <a class="line"></a>
                    <span>12345事件效能评估</span>
                    <a class="line1"></a>
                </div>
                <div class="Satisfaction-warp">
                    <div class="Satisfaction-warp-item">
                        <div class="Satisfaction-warp-item-header">
                            <div class="Satisfaction-warp-item-header-left">
                                <div class="banner1" onclick="TabsFun(3)">街镇</div>
                                <div class="banner2" onclick="TabsFun(4)">委办局</div>
                                <div class="banner2" onclick="TabsFun(5)">公司</div>
                            </div>

                        </div>
                        <div class="Satisfaction-warp-item-echarts">
                            <div id="SmallECharts" style="width: inherit;height:255px"></div>
                        </div>
                    </div>
                    <div class="Satisfaction-warp-item">
                        <div class="Satisfaction-warp-item-header">
                            <div class="Satisfaction-warp-item-header-left">
                                <div class="banner1">工单集合</div>
<!--                                <div class="banner2" onclick="TabsFun(8)">趋势分析</div>-->
                            </div>
                        </div>
                        <div class="Satisfaction-warp-item-echarts">
                            <ul class="Workorder ">
                                <li>紧急</li>
                                <li>非紧急</li>
                                <li>退单</li>
                            </ul>
<!--                            <div id="SmallECharts1" style="width:inherit;height:255px"></div>-->
                        </div>
                    </div>
<!--                    <div class="Satisfaction-warp-item">-->
<!--                        <div class="Satisfaction-warp-item-header">-->
<!--                            <div class="Satisfaction-warp-item-header-left">-->
<!--                                <div class="banner1" onclick="TabsFun(7)">委办局(公司)</div>-->
<!--                                <div class="banner2" onclick="TabsFun(8)">趋势分析</div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="Satisfaction-warp-item-echarts">-->
<!--                            <div id="SmallECharts1" style="width: 383px;height:255px"></div>-->
<!--                        </div>-->
<!--                    </div>-->
                </div>
            </div>

<!--            <div class="Modal-left-item">-->
<!--                                    <div class="header">-->
<!--                                        <a class="line"></a>-->
<!--                                        <span>反复退单</span>-->
<!--                                        <a class="line1"></a>-->
<!--                                    </div>-->
<!--                <div class="work-older">-->
<!--&lt;!&ndash;                    <div class="header">&ndash;&gt;-->
<!--&lt;!&ndash;                        <a class="line"></a>&ndash;&gt;-->
<!--&lt;!&ndash;                        <span>工单列表</span>&ndash;&gt;-->
<!--&lt;!&ndash;                        <a class="line1"></a>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="work-older-item">&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="work-older-header">&ndash;&gt;-->
<!--&lt;!&ndash;                            <span onclick="TabsFun(9)">紧急工单</span>&ndash;&gt;-->
<!--&lt;!&ndash;                            <button onclick="TabsFun(10)">次紧急工单</button>&ndash;&gt;-->
<!--&lt;!&ndash;                            &lt;!&ndash;                        <button>更多</button>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="work-older-list">&ndash;&gt;-->
<!--&lt;!&ndash;                            <ul class="work-older-list-ul">&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>工单编号</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>发生时间</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>案例来源</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>截至时间</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>最后期限</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>工单状态</li>&ndash;&gt;-->
<!--&lt;!&ndash;                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div id="GongDanID"></div>&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            <ul class="work-older-list-ul ul-line ">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <li>AT00987</li>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <li>安亭镇</li>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <li>处置中</li>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            </ul>&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--                    <div class="work-older-item">-->
<!--&lt;!&ndash;                        <div class="work-older-header">&ndash;&gt;-->
<!--&lt;!&ndash;                            <button>反复退单</button>&ndash;&gt;-->
<!--&lt;!&ndash;                            &lt;!&ndash;                        <button>更多</button>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="work-older-list">&ndash;&gt;-->
<!--&lt;!&ndash;                            <ul class="work-older-list-ul">&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>工单编号</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>发生时间</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>案例来源</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>退单次数</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>最后期限</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>工单状态</li>&ndash;&gt;-->
<!--&lt;!&ndash;                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                            <ul class="work-older-list-ul ul-line ">&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>AT00987</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>安亭镇</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>处置中</li>&ndash;&gt;-->
<!--&lt;!&ndash;                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                            <ul class="work-older-list-ul ul-line ">&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>AT00987</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>安亭镇</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>处置中</li>&ndash;&gt;-->
<!--&lt;!&ndash;                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                            <ul class="work-older-list-ul ul-line ">&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>AT00987</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>安亭镇</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>处置中</li>&ndash;&gt;-->
<!--&lt;!&ndash;                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                            <ul class="work-older-list-ul ul-line ">&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>AT00987</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>安亭镇</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>2020/08/01</li>&ndash;&gt;-->
<!--&lt;!&ndash;                                <li>处置中</li>&ndash;&gt;-->
<!--&lt;!&ndash;                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--                    </div>-->


<!--                </div>-->
<!--            </div>-->

        </div>
    </div>
    <div class="Modal-right" id="container">
        <div class="Modal-right-title">嘉定区12345事件热力图</div>
<!--        <div class="Modal-right-tabs">-->
<!--            <div class="pmVerticalRightOut" id="pmVerticalRightOut">-->
<!--                <div class="level">-->
<!--                    <div class="levelTitle">问题来源</div>-->
<!--                    <div class="level_">-->
<!--                        <div class="level_title">level_ title</div>-->
<!--                        <a>level_ title 1</a>-->
<!--                        <a>level_ title 2</a>-->
<!--                        <a>level_ title 3</a>-->
<!--                        <a>level_ title 4</a>-->
<!--                        <a>level_ title 5</a>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="level">-->
<!--                    <div class="levelTitle">问题类型</div>-->
<!--                    <div class="level_">-->
<!--                        <div class="level_title">level_ title</div>-->
<!--                        <a>level_ title 1</a>-->
<!--                        <a>level_ title 2</a>-->
<!--                        <a>level_ title 3</a>-->
<!--                        <a>level_ title 4</a>-->
<!--                        <a>level_ title 5</a>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="level">-->
<!--                    <div class="levelTitle">诉求情况</div>-->
<!--                    <div class="level_">-->
<!--                        <div class="level_title">level_ title</div>-->
<!--                        <a>level_ title 1</a>-->
<!--                        <a>level_ title 2</a>-->
<!--                        <a>level_ title 3</a>-->
<!--                        <a>level_ title 4</a>-->
<!--                        <a>level_ title 5</a>-->
<!--                    </div>-->
<!--                </div>-->


<!--            </div>-->

<!--        </div>-->
    </div>
</div>
</body>
<script src="Js/echarts-wordcloud.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/MyEcharts.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" src="Js/Maps.js"></script>
<script type="text/javascript" src="Js/onload.js"></script>
<script type="text/javascript" src="Js/ajaxPromise.js"></script>

<script type="text/javascript" src="Js/unit.js"></script>
<script type="text/javascript" src="../js/jquery-3.4.1.min.js"></script>

<script>
    document.getElementById("clearid").onclick = function () {
        window.parent.document.getElementById("ModalBox").style.display = "none";
    }
    $("#dropdown1 p").click(function () {
        $("#dropdown2 ul").hide();
        $("#dropdown ul").hide();
        var ul = $("#dropdown1 ul");
        if (ul.css("display") == "none") {
            ul.slideDown("fast");
        } else {
            ul.slideUp("fast");
        }
        $("#dropdown1 ul li a").click(function () {

            var txt = $(this).text();
            $("#dropdown1 p").html(txt);
            var value = $(this).attr("rel");
            $("#dropdown1 ul").hide();

            $("#result").html("您选择了" + txt + "，值为：" + value);
        });
    })
    $("#dropdown2 p").click(function () {
        $("#dropdown1 ul").hide();
        $("#dropdown ul").hide();
        var ul = $("#dropdown2 ul");
        if (ul.css("display") == "none") {
            ul.slideDown("fast");
        } else {
            ul.slideUp("fast");
        }
        $("#dropdown2 ul li a").click(function () {

            var txt = $(this).text();
            $("#dropdown2 p").html(txt);
            var value = $(this).attr("rel");

            $("#dropdown2 ul").hide();
            $("#result").html("您选择了" + txt + "，值为：" + value);
        });
    })
    $("#dropdown p").click(function () {
        $("#dropdown1 ul").hide();
        $("#dropdown2 ul").hide();
        var ul = $("#dropdown ul");
        if (ul.css("display") == "none") {
            ul.slideDown("fast");
        } else {
            ul.slideUp("fast");
        }
        $("#dropdown ul li a").click(function () {
            var txt = $(this).text();
            $("#dropdown p").html(txt);
            var value = $(this).attr("rel");
            $("#dropdown ul").hide();
            $("#result").html("您选择了" + txt + "，值为：" + value);
        });
    })
    window.onload = function () {
        GongDan(0)
        findproblemFun()
        let para = {
            xData: ["本年话务总量", "本年人工话务量", "每万客户呼入量"],
            yData: [2342, 1230, 425]
        }
        let color2 = '#F9392D'
        let color1 = '#4489D3'
        MyEcharts.initChart(MyEcharts.EchartsOption.goods(color2), "SmallECharts")
      //  MyEcharts.initChart(MyEcharts.EchartsOption.goods(color1), "SmallECharts1")
        let data = [{
            "name": "电话",
            "value": 10
        }, {
            "name": "网站",
            "value": 15
        }, {
            "name": "手机App",
            "value": 15
        },
            {
                "name": "微信",
                "value": 25
            },

        ];
        let color = [ "#F9392D", "#4489D3", "#FFCE14","#2cc78f",]
        MyEcharts.initChart(MyEcharts.EchartsOption.pie('工单问题', color, data), "SmallECharts3")
        let attackSourcesData = ["340", "337", "330", "189", "154", "150", "103", "99", "90", "74", "73", "55"]
        let attackSourcesName = ["架空线", "防盗", "盖子", "暴露", "损坏", "消火栓", "监督员", "张贴", "垃圾桶", "坠落", "广告", "垃圾"]
        let attackSourcesColor = ['#f36c6c', '#e6cf4e', '#20d180', '#0093ff', '#1089E7', '#F57474', '#56D0E3', '#1089E7', '#F57474', '#1089E7', '#F57474', '#F57474']
     //   MyEcharts.initChart(MyEcharts.EchartsOption.hotspot(), "SmallECharts4")
        // window.onresize = function () {
        //     SmallECharts4.resize();
        // }
        ThesaurusFun()
    }

    var radius = 140;
    var dtr = Math.PI / 180;
    var d = 300;

    var mcList = [];
    var active = false;
    var lasta = 1;
    var lastb = 1;
    var distr = true;
    var tspeed = 2;
    var size = 250;

    var mouseX = 0;
    var mouseY = 0;

    var howElliptical = 1;

    var aA = null;
    var oDiv = null;

    ThesaurusFun = function () {
        var i = 0;
        var oTag = null;

        oDiv = document.getElementById('rotate');

        aA = oDiv.getElementsByTagName('a');

        for (i = 0; i < aA.length; i++) {
            oTag = {};

            oTag.offsetWidth = aA[i].offsetWidth;
            oTag.offsetHeight = aA[i].offsetHeight;

            mcList.push(oTag);
        }

        sineCosine(0, 0, 0);

        positionAll();

        oDiv.onmouseover = function () {
            active = true;
        };

        oDiv.onmouseout = function () {
            active = false;
        };

        oDiv.onmousemove = function (ev) {
            var oEvent = window.event || ev;

            mouseX = oEvent.clientX - (oDiv.offsetLeft + oDiv.offsetWidth / 2);
            mouseY = oEvent.clientY - (oDiv.offsetTop + oDiv.offsetHeight / 2);

            mouseX /= 5;
            mouseY /= 5;
        };

        setInterval(update, 30);
    };

    function update() {
        var a;
        var b;

        if (active) {
            a = (-Math.min(Math.max(-mouseY, -size), size) / radius) * tspeed;
            b = (Math.min(Math.max(-mouseX, -size), size) / radius) * tspeed;
        } else {
            a = lasta * 0.98;
            b = lastb * 0.98;
        }

        lasta = a;
        lastb = b;

        if (Math.abs(a) <= 0.01 && Math.abs(b) <= 0.01) {
            return;
        }

        var c = 0;
        sineCosine(a, b, c);
        for (var j = 0; j < mcList.length; j++) {
            var rx1 = mcList[j].cx;
            var ry1 = mcList[j].cy * ca + mcList[j].cz * (-sa);
            var rz1 = mcList[j].cy * sa + mcList[j].cz * ca;

            var rx2 = rx1 * cb + rz1 * sb;
            var ry2 = ry1;
            var rz2 = rx1 * (-sb) + rz1 * cb;

            var rx3 = rx2 * cc + ry2 * (-sc);
            var ry3 = rx2 * sc + ry2 * cc;
            var rz3 = rz2;

            mcList[j].cx = rx3;
            mcList[j].cy = ry3;
            mcList[j].cz = rz3;

            per = d / (d + rz3);

            mcList[j].x = (howElliptical * rx3 * per) - (howElliptical * 2);
            mcList[j].y = ry3 * per;
            mcList[j].scale = per;
            mcList[j].alpha = per;

            mcList[j].alpha = (mcList[j].alpha - 0.6) * (10 / 6);
        }

        doPosition();
        depthSort();
    }

    function depthSort() {
        var i = 0;
        var aTmp = [];

        for (i = 0; i < aA.length; i++) {
            aTmp.push(aA[i]);
        }

        aTmp.sort
        (
            function (vItem1, vItem2) {
                if (vItem1.cz > vItem2.cz) {
                    return -1;
                } else if (vItem1.cz < vItem2.cz) {
                    return 1;
                } else {
                    return 0;
                }
            }
        );

        for (i = 0; i < aTmp.length; i++) {
            aTmp[i].style.zIndex = i;
        }
    }

    function positionAll() {
        var phi = 0;
        var theta = 0;
        var max = mcList.length;
        var i = 0;

        var aTmp = [];
        var oFragment = document.createDocumentFragment();


        for (i = 0; i < aA.length; i++) {
            aTmp.push(aA[i]);
        }

        aTmp.sort
        (
            function () {
                return Math.random() < 0.5 ? 1 : -1;
            }
        );

        for (i = 0; i < aTmp.length; i++) {
            oFragment.appendChild(aTmp[i]);
        }

        oDiv.appendChild(oFragment);

        for (var i = 1; i < max + 1; i++) {
            if (distr) {
                phi = Math.acos(-1 + (2 * i - 1) / max);
                theta = Math.sqrt(max * Math.PI) * phi;
            } else {
                phi = Math.random() * (Math.PI);
                theta = Math.random() * (2 * Math.PI);
            }

            mcList[i - 1].cx = radius * Math.cos(theta) * Math.sin(phi);
            mcList[i - 1].cy = radius * Math.sin(theta) * Math.sin(phi);
            mcList[i - 1].cz = radius * Math.cos(phi);

            aA[i - 1].style.left = mcList[i - 1].cx + oDiv.offsetWidth / 2 - mcList[i - 1].offsetWidth / 2 + 'px';
            aA[i - 1].style.top = mcList[i - 1].cy + oDiv.offsetHeight / 2 - mcList[i - 1].offsetHeight / 2 + 'px';
        }
    }

    function doPosition() {
        var l = oDiv.offsetWidth / 2;
        var t = oDiv.offsetHeight / 2;
        for (var i = 0; i < mcList.length; i++) {
            aA[i].style.left = mcList[i].cx + l - mcList[i].offsetWidth / 2 + 'px';
            aA[i].style.top = mcList[i].cy + t - mcList[i].offsetHeight / 2 + 'px';

            aA[i].style.fontSize = Math.ceil(12 * mcList[i].scale / 2) + 8 + 'px';

            aA[i].style.filter = "alpha(opacity=" + 100 * mcList[i].alpha + ")";
            aA[i].style.opacity = mcList[i].alpha;
        }
    }

    function sineCosine(a, b, c) {
        sa = Math.sin(a * dtr);
        ca = Math.cos(a * dtr);
        sb = Math.sin(b * dtr);
        cb = Math.cos(b * dtr);
        sc = Math.sin(c * dtr);
        cc = Math.cos(c * dtr);
    }
</script>
</html>