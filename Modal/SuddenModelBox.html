<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="css/public.css">
    <link rel="stylesheet" type="text/css" href="../css/pubilic.css">
    <style>
        .headers {

            align-items: center;
        }

        .headers span {
            padding: 0rem 2rem;
            font-size: 3rem;
            color: white;
            font-weight: bold;
        }

        .line {
            border-left: .4rem solid #31FFFE;
            height: 3rem;
            position: relative;
        }

        .line:after {
            content: "";
            position: absolute;
            border-left: .4rem solid #31FFFE;
            height: 0.833rem;
            top: -0.333rem;
            transform: rotate(45deg);

        }

        .line:before {
            content: "";
            position: absolute;
            border-left: .4rem solid #31FFFE;
            height: 0.667rem;
            bottom: -0.333rem;
            transform: rotate(-45deg);

        }

        .line1 {
            border-left: .4rem solid #31FFFE;
            height: 3rem;
            position: relative;
        }

        .line1:after {
            content: "";
            position: absolute;
            border-left: .4rem solid #31FFFE;
            height: 0.667rem;
            top: -0.333rem;
            right: 0.167rem;

            transform: rotate(-45deg);

        }

        .line1:before {
            content: "";
            position: absolute;
            border-left: .4rem solid #31FFFE;
            height: 0.667rem;
            bottom: -0.333rem;
            right: 0.167rem;
            transform: rotate(45deg);
        }

        .warp {
            box-sizing: border-box;
        / / padding: .2 rem;
            background: rgb(6, 21, 53);

        }

        .warp-child {
            border: .2rem solid rgb(17, 102, 165);
            box-sizing: border-box;
            padding: 1rem 1.053rem 0rem 1.053rem;
        }

        .border-bg-height {
            height: 50rem;
            box-sizing: border-box;
            padding: 4rem 3rem;

        }

        .warp-item {
            box-sizing: border-box;
            padding: .2rem .5rem .2rem 0rem;
        }
        .farstwarp{

            height: 100%;
            width: 100%;
            box-sizing: border-box;
            padding: .2rem .6rem;
            color: white;
        }

        .farstitem {
            background: url(images/Suddenchildbg.png);
            background-position: center;
            background-size: 100% 100%;
            height: 100%;
            width: 100%;
            box-sizing: border-box;
            padding: .2rem 1rem;
            position: relative;

        }
        .name{
            font-size: 0.737rem;
        }
        .farstitem .name{
            line-height: 7.5rem;
            width: 100%;
            text-align: center;
            font-size: 2.4rem;
        }
        .lastname{
            position: absolute;
            box-sizing: border-box;
            bottom: 3rem;
            width: 80%;
            margin: auto;
            left: 10%;
            box-sizing: border-box;
            background-image: url(images/buttom.png);
            background-position: center;
            background-size: 100% 100%;
            height: 5rem;
            font-size: 1.8rem;
            line-height: 1.8rem;
            padding-top: 1.6rem;
            padding-left: 2rem;
            padding-right: 2rem;
        }
    </style>
</head>
<body>
<div class="warp">
    <div class="warp-child">
        <div class="flex">
            <div class="flex_item_1">
                <div class="flex flex-between warp-item">
                    <div class="headers flex">
                        <span>突发事件概况</span>
                    </div>
                    <!--                <div>月份</div>-->
                </div>
                <div class="border-bg border-bg-height" style="padding: 7rem 3rem 4rem 3rem">
                    <div style="height: 100%;" class="flex">
                        <div class="flex_item_1 farstwarp">
                            <div class="farstitem">
                                <div class="name">本年突发事件</div>
                                <div class="lastname">同比去年</div>
                            </div>
                        </div>
                        <div class="flex_item_1 farstwarp">
                            <div class="farstitem">
                                <div class="name">本月突发事件</div>
                                <div class="lastname flex flex-between">
                                    <div>同比上月</div>
                                    <div><span style="font-size: 3.5rem;color: red;font-weight: bold;padding:0px .5rem">12</span><span style="padding-top: 0px">起</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="flex_item_1 farstwarp">
                            <div class="farstitem">
                                <div class="name">今日突发事件</div>
                                <div class="lastname">同比昨日</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex_item_1">
                <div class="flex flex-between warp-item">
                    <div class="headers flex">
                        <a class="line"></a>
                        <span>突发事件数量统计</span>
                        <a class="line1"></a>
                    </div>
                    <!--                <div>月份</div>-->
                </div>
                <div class="border-bg border-bg-height">qwe</div>
            </div>
        </div>
        <div class="flex">
            <div class="flex_item_1">
                <div class="flex flex-between warp-item">
                    <div class="headers flex">
                        <a class="line"></a>
                        <span>突发事件发生街道分布</span>
                        <a class="line1"></a>
                    </div>
                    <!--                <div>月份</div>-->
                </div>
                <div class="border-bg border-bg-height">qwe</div>
            </div>
            <div class="flex_item_1">
                <div class="flex flex-between warp-item">
                    <div class="headers flex">
                        <a class="line"></a>
                        <span> 经常发生突发事件路段统计</span>
                        <a class="line1"></a>
                    </div>
                    <!--                <div>月份</div>-->
                </div>
                <div class="border-bg border-bg-height">
                    <div id="BasicFunId"></div>
                </div>
            </div>
        </div>

        <div class="flex">
            <div class="flex_item_1">
                <div class="flex flex-between warp-item">
                    <div class="headers flex">
                        <a class="line"></a>
                        <span>突发事件列表</span>
                        <a class="line1"></a>
                    </div>
                    <!--                <div>月份</div>-->
                </div>
                <div class="border-bg border-bg-height" style="height: 32rem;padding: 4rem 5rem">
                    <div>
                        <ul class="flex" style="color: rgb(31,224,233);background: rgb(10,63,108);padding: 1rem 2rem">
                            <li class="flex_item_2">日期</li>
                            <li class="flex_item_2">时间</li>
                            <li class="flex_item_2">街道</li>
                            <li class="flex_item_3">详细地址</li>
                            <li class="flex_item_2">时间类型</li>
                            <li class="flex_item_4">内容</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    window.onload = function () {
        lineFun()


    }

    function lineFun() {
        let para = ''
        let color = ['#f36c6c', '#e6cf4e', '#20d180', '#0093ff', '#0093ff', '#0093ff', '#0093ff', '#0093ff', '#0093ff', '#0093ff', '#0093ff', '#0093ff']
        let res = [
            {name: '某某某段路', value: 1000},
            {name: '某某某段路', value: 800},
            {name: '某某某段路', value: 700},
            {name: '某某某段路', value: 600},
            {name: '某某某段路', value: 500},
            {name: '某某某段路', value: 400},
            {name: '某某某段路', value: 300},
            {name: '某某某段路', value: 200},
            {name: '某某某段路', value: 100},
        ]
        res.forEach((item, index) => {
            para += `
                 <ul class="BasicFunIditemul" style=" height: 4.5rem;width: 100%;display: flex;align-items: center">
             <li class="BasicFunIditemtitle" style="display: inline-block;min-width:3rem;height: 3rem;background: #2cc78f;border-radius: 50%;color:white;text-align: center;line-height:3rem">${index + 1}</li>
             <li class="BasicFunIditemname"  style="display: inline-block;color: white;text-align:center;min-width: 14rem">${item.name}</li>
             <li  style="  cursor: pointer;display:inline-block;height: 2rem;border-radius: 1.667rem;width: 100%;background-color:#4e638b">
             <div class="BasicFunIditem" style="height: 2rem;border-radius: 1.667rem;width: 100%;"></div>
</li>
                     <li  style="display: inline-block;color: white;text-align:center;min-width: 8rem">${item.value}件</li>
            </ul>

           `
        })
        console.log('12312')
        document.getElementById("BasicFunId").innerHTML = para
        para = document.querySelectorAll("#BasicFunId .BasicFunIditem")
        let para1 = document.querySelectorAll("#BasicFunId .BasicFunIditemtitle")
        let para2 = document.querySelectorAll("#BasicFunId .BasicFunIditemname")
        let paraul = document.querySelectorAll("#BasicFunId .BasicFunIditemul")
        res.forEach((item, index) => {
            para[index].style.width = ((item.value / res[0].value).toFixed(2)) * 100 + "%"
            para[index].style.backgroundColor = color[index]
            para1[index].style.backgroundColor = color[index]

        })
        for (let i = 0; i < paraul.length; i++) {
            paraul[i].onclick = function () {
                para[i].style.boxShadow = `0rem 0rem 0.526rem 0.053rem ${color[i]}`
                para1[i].style.boxShadow = `0rem 0rem 0.526rem 0.053rem ${color[i]}`
                para2[i].style.textBackgroundColor = `0rem 0rem 0.526rem 0.053rem ${color[i]}`
                para.forEach((item, index) => {
                    if (i == index) {
                    } else {
                        para[index].style.boxShadow = ""
                        para1[index].style.boxShadow = ""
                        para2[index].style.boxShadow = ""
                    }
                })
            }
        }
    }
</script>
</body>
</html>